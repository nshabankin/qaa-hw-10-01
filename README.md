# План автоматизации тестирования сценария перехода к форме записи и заполнения формы на сайте Нетологии

## 1. Перечень автоматизируемых сценариев
   
### Переходы на страницу профессии "Инженер по тестированию":
   - **Через меню "Каталог курсов"**:  
     Доступ к странице курса можно получить через основной каталог курсов на сайте. Автоматизируем сценарии перехода через следующие шаги:
     - Открытие главной страницы.
     - Переход в меню "Каталог курсов".
     - Поиск и выбор категории, связанной с IT, тестированием или смежными направлениями.
     - Переход к профессии "Инженер по тестированию".
   
   - **Через блок на главной странице или другие элементы интерфейса**:  
     Визуальная структура сайта может предполагать наличие блоков на главной странице, ведущих к различным курсам, включая "Инженер по тестированию". Тесты должны покрывать сценарий перехода через такие блоки.

### Сценарии взаимодействия с формой записи на обучение:
   - **Прокрутка страницы профессии до формы записи**:  
     Форма записи располагается внизу страницы профессии. Необходимо автоматизировать сценарий прокрутки страницы до формы, проверить, что форма загружается корректно.
   - **Переход к форме записи через кнопку "Записаться"**:  
     На странице профессии должна быть кнопка "Записаться", которая также ведет к форме. Следует автоматизировать клик на кнопку "Записаться" и проверку, что пользователь перемещается к форме записи.
   
### Заполнение формы записи:
   - Проверка наличия полей формы: имя, телефон, email.
   - Автоматизация ввода тестовых данных в поля формы.
   - Проверка валидации формы: ввод некорректных данных, таких как неправильный формат телефона или email, и проверка того, что форма выводит сообщения об ошибках.

### Дополнительные сценарии:
   - Проверка блокировки отправки формы при незаполненных или некорректных данных.
   - Удостовериться, что кнопка отправки формы неактивна до момента корректного заполнения всех обязательных полей.

## 2. Перечень используемых инструментов с обоснованием выбора

   - **Selenide**: для более удобной работы с браузером и элементами страницы по сравнению с классическим Selenium. Selenide упрощает управление элементами, синхронизацию с динамическими страницами и проверку валидации, что особенно важно для работы с формами и асинхронным контентом.
   - **JUnit**: для организации тестов и проверки различных сценариев перехода и работы формы.
   - **Allure**: для генерации отчетов о прохождении тестов.
   - **Gradle**: для управления зависимостями и сборки проекта. Gradle предлагает более гибкую систему конфигурации по сравнению с Maven.
   - **GitHub Actions/Appveyor**: для автоматического запуска тестов при обновлениях репозитория.

## 3. Перечень необходимых разрешений, данных и доступов

   - Доступ к странице профессии "Инженер по тестированию".
   - Разрешение на доступ к тестовой среде сайта Нетологии, если такая существует (чтобы избежать случайных реальных записей).
   - Возможность проверки работы формы без фактической отправки данных.
   - Возможность создания тестовых аккаунтов или использования тестовых данных для проверки.

## 4. Перечень и описание возможных рисков при автоматизации

   - **Изменения в дизайне или функционале сайта**: если разработчики сайта Нетологии вносят изменения в структуру или внешний вид страницы, это может привести к поломке тестов, и потребуется обновление сценариев.
   - **Сетевые сбои или проблемы с доступностью сайта**: возможны временные проблемы с сервером, что может привести к некорректной работе тестов.
   - **Проблемы с кросс-браузерной совместимостью**: тесты могут по-разному выполняться в различных браузерах, поэтому важно проверить их работоспособность в нескольких популярных браузерах (Chrome, Firefox, Safari, Edge).
   - **Человеческий фактор**: неправильная настройка тестовой среды или некорректные тестовые данные могут повлиять на качество тестов.

## 5. Перечень необходимых специалистов для автоматизации

   - **Автоматизатор тестирования**: специалист, который напишет и настроит сценарии автоматизации, используя выбранные инструменты.
   - **DevOps-инженер**: для настройки CI/CD и интеграции автоматических тестов в процесс разработки.
   - **Тестировщик**: для первоначального ручного тестирования сценариев и проверки их корректности до внедрения автоматизации.
   - **Специалист по качеству (QA)**: для контроля качества работы сайта и взаимодействия с командой автоматизаторов для поддержания сценариев тестирования.

## 6. Интервальная оценка с учётом рисков в часах
| Процесс                                                      | Часы (мин) | Часы (макс) |
|--------------------------------------------------------------|------------|-------------|
| Исследование сайта и анализ доступных сценариев переходов    | 10         | 14          |
| Написание тестов для переходов через меню и главную страницу | 16         | 24          |
| Автоматизация сценариев взаимодействия с формой              | 12         | 18          |
| Настройка среды тестирования и CI                            | 4          | 8           |
| Проведение тестов на нескольких браузерах                    | 10         | 12          |
| **Итого:**                                                   | 52         | 76          |

# Структура кода для автоматизации тестирования
## 1. Page Object Model (POM)
В основе структуры кода будет лежать паттерн Page Object Model. Это позволит организовать код таким образом, чтобы каждый класс отвечал за отдельную страницу сайта и содержал методы для работы с элементами этой страницы. Это упрощает поддержку и расширение тестов.

### Пример классов:

- `MainPage` — класс, представляющий главную страницу сайта. Содержит методы для взаимодействия с элементами главной страницы (например, методы для поиска курсов или перехода в каталог).
- `CourseCatalogPage` — класс для страницы каталога курсов. Содержит методы для поиска и перехода к определенным курсам.
- `TestEngineerCoursePage` — класс для страницы профессии "Инженер по тестированию". Содержит методы для прокрутки страницы до формы, нажатия на кнопку "Записаться", заполнения полей формы.

## 2. Тестовые классы
Тесты будут организованы в виде отдельных классов, каждый из которых будет отвечать за конкретную область функциональности:

- `MainPageTests`: тесты для проверки сценариев на главной странице (переход через блоки, меню, поиск).
- `TestEngineerCoursePageTests`: тесты для проверки формы записи на странице профессии.
Каждый тест будет использовать методы, определенные в соответствующих Page-классах, для выполнения сценариев.

Пример методов тестовых классов:

- `testNavigateToCourseFromCatalog()`: тест для проверки перехода через меню каталога курсов.
- `testFormValidation()`: тест для проверки валидации полей формы записи.

## 3. Работа с элементами страниц
В Selenide управление элементами страницы упрощено за счет автоматической синхронизации и ожидания. Это позволяет избежать явного указания ожиданий для элементов.

Пример методов в Page-классах:

- **Метод для нажатия на кнопку "Записаться"**: `$("button").click();`
- **Метод для ввода данных в поле имени**: `$("#name").setValue("Иван Иванов");`

## 4. Конфигурация проекта
Gradle будет использоваться для управления зависимостями проекта, что включает:

- Подключение библиотек Selenide, JUnit, Allure.
- Настройка плагинов для генерации отчетов и интеграции с CI/CD.

## 5. Отчеты и логирование
Использование Allure для генерации отчетов позволит собирать информацию о прохождении тестов, включая скриншоты и данные о шагах выполнения сценариев. Это поможет отслеживать ошибки и анализировать результаты автоматизированных тестов.

## 6. CI/CD интеграция
Проект будет интегрирован с GitHub Actions, что позволит автоматически запускать тесты при каждом обновлении репозитория. Для этого в проекте будет настроен файл `.github/workflows/gradle.yml`, который включает шаги по сборке проекта, выполнению тестов и генерации отчетов.

# Описание структуры файлов
```
project-root/
│
├── src/
│   ├── test/
│   │   └── java/
│   │       └── ru.netology.site/
│   │           ├── pages/
│   │           │   ├── MainPage.java
│   │           │   ├── CourseCatalogPage.java
│   │           │   └── TestEngineerCoursePage.java
│   │           └── utils/
│   │               └── DataHelper.java
│   │           └── tests/
│   │               ├── MainPageTests.java
│   │               ├── CourseCatalogTests.java
│   │               └── TestEngineerCoursePageTests.java
│   │
│   └── resources/
│       └── allure-results/
│
├── build.gradle
├── gradlew
├── gradlew.bat
├── settings.gradle
│
├── .github/
│   └── workflows/
│       └── gradle.yml
│
└── README.md
```
## 1. `src/test/java/ru.netology.site/`
- `pages/`: Каталог, в котором хранятся классы страниц, реализующие Page Object Model.
  - `MainPage.java`: Класс, представляющий главную страницу сайта.
  - `CourseCatalogPage.java`: Класс для страницы каталога курсов.
  - `TestEngineerCoursePage.java`: Класс для страницы профессии "Инженер по тестированию".
- `utils/`: Каталог для утилитарных классов.
  - `DataHelper.java`: Класс для конфигураций проекта, таких как тестовые данные, настройки для браузера, URL-адреса и другие параметры.
- `tests/`: Каталог, содержащий тестовые классы.
  - `MainPageTests.java`: Тесты для главной страницы сайта, включая сценарии поиска и перехода через блоки.
  - `CourseCatalogTests.java`: Тесты для проверки перехода через каталог курсов.
  - `TestEngineerCoursePageTests.java`: Тесты для проверки взаимодействия с формой записи на странице профессии.
## 2. `src/resources/allure-results/`
Каталог для хранения промежуточных файлов отчетов Allure, которые будут генерироваться во время выполнения тестов.
## 3. `build.gradle`
Файл для конфигурации проекта Gradle, включая зависимости (Selenide, JUnit, Allure), настройки плагинов и сборки.
## 4. `gradlew` и `gradlew.bat`
Скрипты для запуска Gradle, предоставляющие возможность запускать задачи Gradle в унифицированной среде без необходимости установки Gradle на локальной машине.
## 5. `settings.gradle`
Конфигурационный файл Gradle для указания имени проекта и других параметров сборки.
## 6. `.github/workflows/gradle.yml`
Конфигурация GitHub Actions для настройки CI/CD, включая автоматический запуск тестов при коммитах и Pull Request.
## 7. `README.md`
Описание проекта, план реализации проекта, краткая инструкция по установке и запуску тестов, а также ссылки на дополнительные ресурсы.